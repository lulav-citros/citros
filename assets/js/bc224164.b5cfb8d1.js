"use strict";(self.webpackChunkcitros_doc=self.webpackChunkcitros_doc||[]).push([[11358],{3905:(t,a,e)=>{e.d(a,{Zo:()=>s,kt:()=>N});var n=e(67294);function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function i(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){l(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function p(t,a){if(null==t)return{};var e,n,l=function(t,a){if(null==t)return{};var e,n,l={},r=Object.keys(t);for(n=0;n<r.length;n++)e=r[n],a.indexOf(e)>=0||(l[e]=t[e]);return l}(t,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)e=r[n],a.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(l[e]=t[e])}return l}var d=n.createContext({}),m=function(t){var a=n.useContext(d),e=a;return t&&(e="function"==typeof t?t(a):i(i({},a),t)),e},s=function(t){var a=m(t.components);return n.createElement(d.Provider,{value:a},t.children)},o="mdxType",u={inlineCode:"code",wrapper:function(t){var a=t.children;return n.createElement(n.Fragment,{},a)}},k=n.forwardRef((function(t,a){var e=t.components,l=t.mdxType,r=t.originalType,d=t.parentName,s=p(t,["components","mdxType","originalType","parentName"]),o=m(e),k=l,N=o["".concat(d,".").concat(k)]||o[k]||u[k]||r;return e?n.createElement(N,i(i({ref:a},s),{},{components:e})):n.createElement(N,i({ref:a},s))}));function N(t,a){var e=arguments,l=a&&a.mdxType;if("string"==typeof t||l){var r=e.length,i=new Array(r);i[0]=k;var p={};for(var d in a)hasOwnProperty.call(a,d)&&(p[d]=a[d]);p.originalType=t,p[o]="string"==typeof t?t:l,i[1]=p;for(var m=2;m<r;m++)i[m]=e[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,e)}k.displayName="MDXCreateElement"},91866:(t,a,e)=>{e.r(a),e.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>m});var n=e(87462),l=(e(67294),e(3905));const r={toc_max_heading_level:4,hide_title:!0,sidebar_position:4,sidebar_label:"Query Data",description:"How to query data"},i="Query Data",p={unversionedId:"data_analysis/data_access/query_data",id:"version-0.2.60/data_analysis/data_access/query_data",title:"Query Data",description:"How to query data",source:"@site/versioned_docs/version-0.2.60/data_analysis/data_access/query_data.md",sourceDirName:"data_analysis/data_access",slug:"/data_analysis/data_access/query_data",permalink:"/docs/0.2.60/data_analysis/data_access/query_data",draft:!1,tags:[],version:"0.2.60",sidebarPosition:4,frontMatter:{toc_max_heading_level:4,hide_title:!0,sidebar_position:4,sidebar_label:"Query Data",description:"How to query data"},sidebar:"gettingStartedSidebar",previous:{title:"Batch Content",permalink:"/docs/0.2.60/data_analysis/data_access/batch_content"},next:{title:"Plot Data",permalink:"/docs/0.2.60/data_analysis/data_access/plot_data"}},d={},m=[{value:"sid Constraints",id:"sid-constraints",level:2},{value:"rid Constraints",id:"rid-constraints",level:2},{value:"time Constraints",id:"time-constraints",level:2},{value:"JSON-Data Constraints",id:"json-data-constraints",level:2},{value:"Constraints Combination",id:"constraints-combination",level:2},{value:"Sampling Methods",id:"sampling-methods",level:2},{value:"Skip",id:"skip",level:3},{value:"Average",id:"average",level:3},{value:"Moving Average",id:"moving-average",level:3},{value:"Sorting Order",id:"sorting-order",level:2},{value:"Segregate Data by sid",id:"segregate-data-by-sid",level:2},{value:"Initial Parameters of the Simulation",id:"initial-parameters-of-the-simulation",level:2},{value:"Maximum and Minimum Values",id:"maximum-and-minimum-values",level:2},{value:"Number of Messages",id:"number-of-messages",level:2},{value:"Unique Values",id:"unique-values",level:2},{value:"Number of the unique values",id:"number-of-the-unique-values",level:2},{value:"SQL Queries",id:"sql-queries",level:2}],s={toc:m},o="wrapper";function u(t){let{components:a,...e}=t;return(0,l.kt)(o,(0,n.Z)({},s,e,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"query-data"},"Query Data"),(0,l.kt)("p",null,"Assuming, that the batch and simulation has already been set (see ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/batch_overview"},"Simulations and Batches"),"), the general query scheme is as follows:"),(0,l.kt)("mermaid",{value:'flowchart LR\n    id1((CitrosDB<br>object)) ---id2((" ")) --- B{{"topic()"}}\n    B ---id3((" ")) ---C(["sid()"])\n    C ---id4((" ")) ---D(["rid()"])\n    D ---id5((" ")) --- E(["time()"])\n    E ---id6((" ")) \n    id6 --- skip(["skip()"])\n    id6 --- avg(["avg()"])\n    id6 --- move_avg(["move_avg()"])\n    skip ---id7((" ")) \n    id7((" ")) --- F(["set_filter()"])\n    avg --- id7((" "))\n    move_avg --- id7((" "))\n    F --- id8((" ")) --- G(["set_order()"])\n    G --- id9((" ")) --- M{{"data()"}}\n    classDef dot fill:#000\n    class id2,id3,id4,id5,id6,id7,id8,id9 dot;'}),(0,l.kt)("p",null,"where ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()"))," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," methods are necessary methods and all other are optional to use."),(0,l.kt)("p",null,"The method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," object is dedicated to query data. Data is always querying for the specific topic, which is defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()"))," method, which must be called before ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. The result is returned as a ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"},(0,l.kt)("strong",{parentName:"a"},"DataFrame"))," of the ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/"},(0,l.kt)("strong",{parentName:"a"},"pandas")," package")," - a widely used format in data science."),(0,l.kt)("p",null,"Let's import and create ",(0,l.kt)("strong",{parentName:"p"},"CitrosDB")," object, setting simulation and batch names:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> from citros import CitrosDB\n>>> citros = CitrosDB(simulation = 'simulation_name', batch = 'batch_name')\n")),(0,l.kt)("p",null,"To query all data for the topic 'B':"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').data()\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("p",null,"A pandas DataFrame."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_3"),(0,l.kt)("th",{parentName:"tr",align:null},"data.time"),(0,l.kt)("th",{parentName:"tr",align:null},"data.note"),(0,l.kt)("th",{parentName:"tr",align:null},"data.height"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.051"),(0,l.kt)("td",{parentName:"tr",align:null},"0.086"),(0,l.kt)("td",{parentName:"tr",align:null},"-27.93"),(0,l.kt)("td",{parentName:"tr",align:null},"5.0"),(0,l.kt)("td",{parentName:"tr",align:null},"[aa, ee, ","[45, 83]",", {'n': 31}]"),(0,l.kt)("td",{parentName:"tr",align:null},"979.372")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.045"),(0,l.kt)("td",{parentName:"tr",align:null},"0.089"),(0,l.kt)("td",{parentName:"tr",align:null},"19.85"),(0,l.kt)("td",{parentName:"tr",align:null},"5.5"),(0,l.kt)("td",{parentName:"tr",align:null},"[aa, cc, ","[12, 1]",", {'n': 68}]"),(0,l.kt)("td",{parentName:"tr",align:null},"969.772")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.039"),(0,l.kt)("td",{parentName:"tr",align:null},"0.092"),(0,l.kt)("td",{parentName:"tr",align:null},"33.61"),(0,l.kt)("td",{parentName:"tr",align:null},"9.5"),(0,l.kt)("td",{parentName:"tr",align:null},"[bb, ee, ","[92, 23]",", {'n': 96}]"),(0,l.kt)("td",{parentName:"tr",align:null},"954.368")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"If no arguments are passed to the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," methods, all data from the json-data column is selected. The json-objects are split into columns, while json-arrays are retained as lists."),(0,l.kt)("p",null,"If the whole json-data column is desired as a json-object:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').data('data')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"{'x': {'x_1': -0.051, 'x_2': 0.086, 'x_3': -27...")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"{'x': {'x_1': -0.045, 'x_2': 0.089, 'x_3': 19....")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"{'x': {'x_1': -0.039, 'x_2': 0.092, 'x_3': 33....")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"If only some of the json objects are needed, for example data.x.x_1 and data.time, list with their labels may be passed to ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()")),": "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').data(['data.x.x_1', 'data.time'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.time"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.051"),(0,l.kt)("td",{parentName:"tr",align:null},"5.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.045"),(0,l.kt)("td",{parentName:"tr",align:null},"5.5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.039"),(0,l.kt)("td",{parentName:"tr",align:null},"9.5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,'If there are json-arrays in the data and the values with the exact index is needed, this index may be passed in square brackets. For example, to collect the values of the first index of the json array "data.note": '),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').data('data.note[0]')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.note","[0]"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"aa")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"aa")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"bb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"By default columns ",(0,l.kt)("inlineCode",{parentName:"p"},"sid")," (simulation run id), ",(0,l.kt)("inlineCode",{parentName:"p"},"rid"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"time"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"topic")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"type")," are returned in the output pandas.DataFrame. If you would like to select only some of these columns use ",(0,l.kt)("inlineCode",{parentName:"p"},"additional_columns")," parameter. The ",(0,l.kt)("inlineCode",{parentName:"p"},"sid")," column is always queried. For example, to reduce the size of the output and leave only ",(0,l.kt)("inlineCode",{parentName:"p"},"rid")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"topic")," columns the previous query may be altered in the following way:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').data('data.note[0]', additional_columns = ['rid', 'topic'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"data.note","[0]"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"aa")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"aa")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"bb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Since the output is a pandas ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"},(0,l.kt)("strong",{parentName:"a"},"DataFrame")),", all its methods may be applied after ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," querying. For example, to create a new column named 'Time' based on the values of the 'rid' column using the formula 'Time' = 'rid' * 0.1, and to modify the 'data.x.x_1' column by subtracting the mean from each value, the pandas ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"},(0,l.kt)("strong",{parentName:"a"},"DataFrame"))," method ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.assign.html"},(0,l.kt)("strong",{parentName:"a"},"assign"))," may be used as follows:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> df = citros.topic('B').data('data.x.x_1')\\\n                          .assign(**{'Time': lambda F: F['rid']*0.1,\n                                     'data.x.x_1': lambda F: F['data.x.x_1'] - F['data.x.x_1'].mean()})\n>>> print(df)\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"Time"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.059"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.053"),(0,l.kt)("td",{parentName:"tr",align:null},"0.1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.047"),(0,l.kt)("td",{parentName:"tr",align:null},"0.2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h2",{id:"sid-constraints"},"sid Constraints"),(0,l.kt)("p",null,"To get data with the exact sid, method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.sid"},(0,l.kt)("strong",{parentName:"a"},"sid()"))," of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," is used. It should be applied before ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. To query for the data with the exact simulation ids pass them as a list of ints, for example:"),(0,l.kt)("p",null,"To query json-data column 'data.x.x_1' of the topic 'B' with sid = 1 or 3:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').sid([1,3]).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.345"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.000")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.763"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.007")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1.348"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.084")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Another way to set limits is by ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," arguments: ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," <= sid, sid <= ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and sid < ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," + ",(0,l.kt)("inlineCode",{parentName:"p"},"count"),".  ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and  ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," values must be integers."),(0,l.kt)("p",null,"To query json-data column 'data.x.x_1' of the topic 'B' for sid 3, 4, 5:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').sid(start = 3, end = 5).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1.348"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.084")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1.582"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.011")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2.166"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.031")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h2",{id:"rid-constraints"},"rid Constraints"),(0,l.kt)("p",null,"To select only messages with the exact values of rid, the method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.rid"},(0,l.kt)("strong",{parentName:"a"},"rid()"))," of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," is used. It should be applied before ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. "),(0,l.kt)("p",null,"Similar to the application of ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()"))," method, the list of ints may be passed to query for the exact rid values:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').rid([6, 7]).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"0.503"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"0.557"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.035")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"1.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.012")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"To define the range of limits arguments ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," are used: ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," <= rid, rid <= ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and rid < ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," + ",(0,l.kt)("inlineCode",{parentName:"p"},"count"),".  ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and  ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," values must be integers."),(0,l.kt)("p",null,"Since rid is always > 0, the default ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," being equal 0 means no constraints. "),(0,l.kt)("p",null,"rid is always >= 0, so the default ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," = 0 means no constraints. To set the upper limit for rid, only ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," may be specified. For example, to get json-data column 'data.x.x_1' of the topic 'B' with rid <= 15:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').rid(end = 15).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.051")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.045")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.039")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"To set 10 <= rid <= 15:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').rid(start = 10, end = 15).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"11"),(0,l.kt)("td",{parentName:"tr",align:null},"6.322"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.020")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"10"),(0,l.kt)("td",{parentName:"tr",align:null},"5.975"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.013")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"7.459"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.072")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Instead of the ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," value the upper limit of rid may be specified by ",(0,l.kt)("inlineCode",{parentName:"p"},"count")," argument, that set it relative to the ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),". To set 10 <= rid <= 15 with the ",(0,l.kt)("inlineCode",{parentName:"p"},"count"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').rid(start = 10, count = 6).data('data.x.x_1')\n")),(0,l.kt)("h2",{id:"time-constraints"},"time Constraints"),(0,l.kt)("p",null,"To apply constraints on time column, the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.time"},(0,l.kt)("strong",{parentName:"a"},"time()"))," method of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," is used. It should be applied before ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.time"},(0,l.kt)("strong",{parentName:"a"},"time()"))," method has ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and  ",(0,l.kt)("inlineCode",{parentName:"p"},"duration")," arguments to define the time limits (in nanoseconds) of the query. Briefly, they set the following constraints on time: ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," <= time, time <= ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and time < ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," + ",(0,l.kt)("inlineCode",{parentName:"p"},"duration"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," and  ",(0,l.kt)("inlineCode",{parentName:"p"},"duration")," values must be integers."),(0,l.kt)("p",null,"Since time is always >= 0, the default ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," being equal 0 means no constraints. To set the upper limit in nanoseconds for the time column, define ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," argument.\nFor example, for querying json-data column 'data.x.x_1' of the topic 'B' with time <= 100ns:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').time(end = 100).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.051")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.045")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.039")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Lower limit is set by the ",(0,l.kt)("inlineCode",{parentName:"p"},"start")," argument. To set 50ns <= time <= 100ns:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').time(start = 50, end = 100).data('data.x.x_1')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"89"),(0,l.kt)("td",{parentName:"tr",align:null},"50.461"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.034")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"72"),(0,l.kt)("td",{parentName:"tr",align:null},"50.705"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.056")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"73"),(0,l.kt)("td",{parentName:"tr",align:null},"50.838"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.061")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Instead of the ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," value the duration (in nanoseconds) may be specified, that defines the upper limit of time relative to the ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),". To set 50ns <= time < 100ns with ",(0,l.kt)("inlineCode",{parentName:"p"},"duration"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').time(start = 50, duration = 50).data('data.x.x_1')\n")),(0,l.kt)("p",null,"Note that when the ",(0,l.kt)("inlineCode",{parentName:"p"},"duration")," is used instead of the ",(0,l.kt)("inlineCode",{parentName:"p"},"end")," argument, the upper limit that equals ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),"+",(0,l.kt)("inlineCode",{parentName:"p"},"duration")," is not included in the query."),(0,l.kt)("h2",{id:"json-data-constraints"},"JSON-Data Constraints"),(0,l.kt)("p",null,"To apply constraints on a json-data columns, ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.set_filter"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," is used. It should be applied before ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. It takes a dictionary as an argument."),(0,l.kt)("p",null,"The argument has the following structure:\n{Key: Value, Key1: Value1, ...}, where Key is a label of the column (for example, 'data.x') and Value defines the constraints, to apply on this column:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"case"),(0,l.kt)("th",{parentName:"tr",align:null},"Value form"),(0,l.kt)("th",{parentName:"tr",align:null},"meaning"),(0,l.kt)("th",{parentName:"tr",align:null},"example"),(0,l.kt)("th",{parentName:"tr",align:null},"example description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"equality"),(0,l.kt)("td",{parentName:"tr",align:null},"[...]"," - list of exact values"),(0,l.kt)("td",{parentName:"tr",align:null},"="),(0,l.kt)("td",{parentName:"tr",align:null},"[1, 2, 3]"),(0,l.kt)("td",{parentName:"tr",align:null},"equals 1 or 2 or 3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"inequality"),(0,l.kt)("td",{parentName:"tr",align:null},"{'>': val}"),(0,l.kt)("td",{parentName:"tr",align:null},"> val"),(0,l.kt)("td",{parentName:"tr",align:null},"{'>': 5}"),(0,l.kt)("td",{parentName:"tr",align:null},"> 5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"{'>=': val}"),(0,l.kt)("td",{parentName:"tr",align:null},">= val"),(0,l.kt)("td",{parentName:"tr",align:null},"{'>=': 4.5}"),(0,l.kt)("td",{parentName:"tr",align:null},">= 4.5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"{'<': val}"),(0,l.kt)("td",{parentName:"tr",align:null},"< val"),(0,l.kt)("td",{parentName:"tr",align:null},"{'<': 0.55}"),(0,l.kt)("td",{parentName:"tr",align:null},"< 0.55")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"{'<=': val}"),(0,l.kt)("td",{parentName:"tr",align:null},"<= val"),(0,l.kt)("td",{parentName:"tr",align:null},"{'<=': -7}"),(0,l.kt)("td",{parentName:"tr",align:null},"<= -7")))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"If one of the sampling method (",(0,l.kt)("a",{parentName:"p",href:"#skip"},(0,l.kt)("strong",{parentName:"a"},"skip()")),", ",(0,l.kt)("a",{parentName:"p",href:"#average"},(0,l.kt)("strong",{parentName:"a"},"avg()")),", ",(0,l.kt)("a",{parentName:"p",href:"#moving-average"},(0,l.kt)("strong",{parentName:"a"},"move_avg()")),") is used, constraints on all columns except json-data are applied BEFORE sampling while constraints on columns from json-data are applied AFTER sampling.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"To query json-data columns 'data.x.x_1' and 'data.note","[2]","' from the topic 'B' that matches the condition 'data.x.x_1' < 40:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').set_filter({'data.x.x_1':{'<':40}}).data(['data.x.x_1', 'data.note[2]'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.note","[2]"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.140"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.051"),(0,l.kt)("td",{parentName:"tr",align:null},"[45, 83]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.195"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.045"),(0,l.kt)("td",{parentName:"tr",align:null},"[12, 1]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.265"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.039"),(0,l.kt)("td",{parentName:"tr",align:null},"[92, 23]")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"To query json-data columns 'data.x.x_1' and 'data.note","[2]","' from the topic 'B' that matches the condition 'data.note","[2][0]","' = 55 or 56:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B').set_filter({'data.note[2][0]':[55, 56]}).data(['data.x.x_1', 'data.note[2][0]'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.note","[2][0]"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1.946"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.080"),(0,l.kt)("td",{parentName:"tr",align:null},"55")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"4.539"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.062"),(0,l.kt)("td",{parentName:"tr",align:null},"56")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"33"),(0,l.kt)("td",{parentName:"tr",align:null},"17.139"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.081"),(0,l.kt)("td",{parentName:"tr",align:null},"55")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.set_filter"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method may be used to apply constraints not only on json-data, but on any column. Conditions, passed here, have higher priority over those defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," methods and will override them.")),(0,l.kt)("h2",{id:"constraints-combination"},"Constraints Combination"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," objects may be combined to precisely define the query:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B')\\\n          .sid([1,2])\\\n          .rid(start = 10, end = 100)\\\n          .time(start = 15, end = 100)\\\n          .set_filter({'data.x.x_1': {'>': 0, '<=': 0.5}})\\\n          .data(['data.x.x_1', 'data.x.x_2'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"29"),(0,l.kt)("td",{parentName:"tr",align:null},"15.711"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.099"),(0,l.kt)("td",{parentName:"tr",align:null},"0.017")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"30"),(0,l.kt)("td",{parentName:"tr",align:null},"15.915"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.099"),(0,l.kt)("td",{parentName:"tr",align:null},"0.010")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"33"),(0,l.kt)("td",{parentName:"tr",align:null},"17.139"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.081"),(0,l.kt)("td",{parentName:"tr",align:null},"-0.059")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h2",{id:"sampling-methods"},"Sampling Methods"),(0,l.kt)("p",null,"If the amount of output data is too huge, only part of it may be selected. It may be achieved by sampling methods ",(0,l.kt)("a",{parentName:"p",href:"#skip"},(0,l.kt)("strong",{parentName:"a"},"skip()")),", ",(0,l.kt)("a",{parentName:"p",href:"#average"},(0,l.kt)("strong",{parentName:"a"},"avg()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#moving-average"},(0,l.kt)("strong",{parentName:"a"},"move_avg()")),", applied before ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method. Only one of this sampling function may be used at one query."),(0,l.kt)("p",null,"Sampling methods set the directive that are applied before actual retrieving data from the cloud for speed and resource conservation. "),(0,l.kt)("p",null,"Data from each simulation run (corresponds to different 'sid') processed separately.\nIf any constraints on 'sid', 'rid', 'time', 'topic' and 'type' columns are set, they are applied before sampling methods, while constraints on data from json column are applied after sampling."),(0,l.kt)("h3",{id:"skip"},"Skip"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.skip"},(0,l.kt)("strong",{parentName:"a"},"skip(n)"))," method is used to select ",(0,l.kt)("inlineCode",{parentName:"p"},"n"),"-th message of the each sid."),(0,l.kt)("p",null,"To query only each 5th message of the topic 'B':"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B')\\\n          .skip(5)\\\n          .data(['data.x.x_1', 'data.x.x_2'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.345"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.000"),(0,l.kt)("td",{parentName:"tr",align:null},"0.100")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"3.387"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.033"),(0,l.kt)("td",{parentName:"tr",align:null},"0.094")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"10"),(0,l.kt)("td",{parentName:"tr",align:null},"7.224"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.062"),(0,l.kt)("td",{parentName:"tr",align:null},"0.079")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h3",{id:"average"},"Average"),(0,l.kt)("p",null,"To group and average every set of ",(0,l.kt)("inlineCode",{parentName:"p"},"n")," consecutive messages of the each queried sid ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.avg"},(0,l.kt)("strong",{parentName:"a"},"avg(n)"))," method is used. Only numeric values may be averaged and the labels of the json-data columns with numeric content should be explicitly listed in ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()")),". The value in 'rid' column is set as a minimum value among the 'rid' values of the averaged rows."),(0,l.kt)("p",null,"To average each 5 messages of the topic 'B':"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B')\\\n          .avg(5)\\\n          .data(['data.x.x_1', 'data.x.x_2'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1.127"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0132"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0986")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"4.720"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0448"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0888")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"10"),(0,l.kt)("td",{parentName:"tr",align:null},"7.442"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0714"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0696")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h3",{id:"moving-average"},"Moving Average"),(0,l.kt)("p",null,"To compute moving average with the window size equals ",(0,l.kt)("inlineCode",{parentName:"p"},"n")," and then during querying select each ",(0,l.kt)("inlineCode",{parentName:"p"},"s"),"-th message of the result, ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.move_avg"},(0,l.kt)("strong",{parentName:"a"},"move_avg(n, s)"))," method is used. Only numeric values may be averaged and the labels of the json-data columns with numeric content should be explicitly listed in ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()")),". The value in 'rid' column is set as a minimum value among the 'rid' values of the averaged rows."),(0,l.kt)("p",null,"To use moving average to average each 5 messages and query every second row of the result of the topic 'B':"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('B')\\\n          .move_avg(5,2)\\\n          .data(['data.x.x_1', 'data.x.x_2'])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_1"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1.127"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0132"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0986")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2.361"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0262"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0958")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"3.724"),(0,l.kt)("td",{parentName:"tr",align:null},"B"),(0,l.kt)("td",{parentName:"tr",align:null},"b"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0388"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0914")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h2",{id:"sorting-order"},"Sorting Order"),(0,l.kt)("p",null,"By default, the data is returned in ascending order based on the 'sid' and 'rid' columns. To sort the result of the query in ascending or descending order based on other columns, the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.set_order"},(0,l.kt)("strong",{parentName:"a"},"set_order()"))," method of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," object is used. It should be applied before ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method calling. It takes a dictionary as an argument, where the key is a label of the column and the dictionary value defines whether in ascending ('asc') or in descending ('desc') order to sort. "),(0,l.kt)("p",null,"To query json-data columns 'data.height' of the topic 'A' and to sort the result by sid in ascending order and by this column 'data.height' in descending order:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('A').set_order({'sid': 'asc', 'data.height': 'desc'}).data('data.height')\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.height"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0.313"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"949.799")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0.407"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"937.165")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0.951"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"884.295")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("h2",{id:"segregate-data-by-sid"},"Segregate Data by sid"),(0,l.kt)("p",null,"Method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data_dict"},(0,l.kt)("strong",{parentName:"a"},"data_dict()"))," returns dict of tables, each of the tables corresponds to exact value of sid.\nThe returning dictionary contains sid as dictionary keys and pandas.DataFrames as dictionary values."),(0,l.kt)("p",null,"The way of writing query is the same as when ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method is used. All methods of ",(0,l.kt)("a",{parentName:"p",href:"#constraints-combination"},"setting constraints")," and ",(0,l.kt)("a",{parentName:"p",href:"#sampling-methods"},"sampling methods")," can be applied."),(0,l.kt)("p",null,"For example, let's query json-data columns 'data.x.x_2', 'data.time' for topic 'A', where 'data.x.x_2' >= 0 and sid equals 1 or 2. And let's also average each 10 rows of the table:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> dfs = citros.topic('A').\\\n                 sid([1,2]).\\\n                 avg(10).\\\n                 set_filter({'data.x.x_2': {'>=':0}}).\\\n                 set_order({'data.x.x_2':'desc', 'time':'asc'}).\\\n                 data_dict(['data.x.x_2', 'data.time'])\n\n#print all sid values\n>>> print(f'sid values are: {list(dfs.keys())}\\n')\n\n#print DataFrame that corresponds to sid = 1:\n>>> print('data with sid = 1:')\n>>> print(dfs[1])\n")),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Show the result:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"sid values are: [1, 2]\n\ndata with sid = 1:\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.x.x_2"),(0,l.kt)("th",{parentName:"tr",align:null},"data.time"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"120"),(0,l.kt)("td",{parentName:"tr",align:null},"83.744"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0763"),(0,l.kt)("td",{parentName:"tr",align:null},"629.48")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"60"),(0,l.kt)("td",{parentName:"tr",align:null},"43.003"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0757"),(0,l.kt)("td",{parentName:"tr",align:null},"322.95")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"2.893"),(0,l.kt)("td",{parentName:"tr",align:null},"A"),(0,l.kt)("td",{parentName:"tr",align:null},"a"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0691"),(0,l.kt)("td",{parentName:"tr",align:null},"35.84")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."),(0,l.kt)("td",{parentName:"tr",align:null},"..."))))),(0,l.kt)("p",null,"Similar to ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},(0,l.kt)("strong",{parentName:"a"},"data()"))," method, in ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.data_dict"},(0,l.kt)("strong",{parentName:"a"},"data_dict()"))," you can specify by ",(0,l.kt)("inlineCode",{parentName:"p"},"additional_columns")," which of the default columns (",(0,l.kt)("inlineCode",{parentName:"p"},"rid"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"time"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"topic"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),") to query. ",(0,l.kt)("inlineCode",{parentName:"p"},"sid")," column is always queried."),(0,l.kt)("h2",{id:"initial-parameters-of-the-simulation"},"Initial Parameters of the Simulation"),(0,l.kt)("p",null,"Initial parameters of the simulation are written under the topic ",(0,l.kt)("inlineCode",{parentName:"p"},"'/config'"),". Values of the parameters for each of the simulation as well as the overall information about this topic is accessed as any other topics. For example, if simulation named 'simulation_dynamics' requires 1 initial parameter, say 'mass', the initial values for the batch 'robotic_test' may be queried in the following way:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> df = citros.batch('robotic_test').topic('/config').data()\n")),(0,l.kt)("p",null,"Each row of the obtained DataFrame ",(0,l.kt)("inlineCode",{parentName:"p"},"df")," corresponds to the separate simulation run. If, for instance, 3 simulation runs were set (sid = 0, 1, 2), the ",(0,l.kt)("inlineCode",{parentName:"p"},"df")," content may look like:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.dynamics.ros__parameters.mass"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"/config"),(0,l.kt)("td",{parentName:"tr",align:null},"/var/lib/citros/runs..."),(0,l.kt)("td",{parentName:"tr",align:null},"10")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"/config"),(0,l.kt)("td",{parentName:"tr",align:null},"/var/lib/citros/runs..."),(0,l.kt)("td",{parentName:"tr",align:null},"15")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"/config"),(0,l.kt)("td",{parentName:"tr",align:null},"/var/lib/citros/runs..."),(0,l.kt)("td",{parentName:"tr",align:null},"20")))),(0,l.kt)("p",null,"To get the parameter used in the exact simulation, for example for the first one, set the constraints on sid:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> df = citros.batch('robotic_test').topic('/config').sid(0).data()\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null}),(0,l.kt)("th",{parentName:"tr",align:null},"sid"),(0,l.kt)("th",{parentName:"tr",align:null},"rid"),(0,l.kt)("th",{parentName:"tr",align:null},"time"),(0,l.kt)("th",{parentName:"tr",align:null},"topic"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"data.dynamics.ros__parameters.mass"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"/config"),(0,l.kt)("td",{parentName:"tr",align:null},"/var/lib/citros/runs..."),(0,l.kt)("td",{parentName:"tr",align:null},"10")))),(0,l.kt)("p",null,"Getting the initial parameters can be extremely useful, especially when they are set randomly in the simulation."),(0,l.kt)("h2",{id:"maximum-and-minimum-values"},"Maximum and Minimum Values"),(0,l.kt)("p",null,"To find the maximum and the minimum values of the ",(0,l.kt)("inlineCode",{parentName:"p"},"column_name")," methods ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_max_value"},(0,l.kt)("strong",{parentName:"a"},"get_max_value(column_name)"))," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_min_value"},(0,l.kt)("strong",{parentName:"a"},"get_min_value(column_name)"))," are used."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Use ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods to apply constraints.")),(0,l.kt)("p",null,"Find the maximum and the minimum values of the column 'rid' for topic 'A':"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"#specify column\n>>> column_name = 'rid'\n\n#get max and min value for topic 'A\":\n>>> result_max = citros.topic('A').get_max_value(column_name)\n>>> result_min = citros.topic('A').get_min_value(column_name)\n\n#print\n>>> print(f\"max value of the column '{column_name}' : {result_max}\")\n>>> print(f\"min value of the column '{column_name}' : {result_min}\")\n")),(0,l.kt)("p",null,"The output is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"max value of the column 'rid' : 163\nmin value of the column 'rid' : 0\n")),(0,l.kt)("p",null,"To get also the values of simulation id (sid) and rid that correspond to the maximum or minimum value, set ",(0,l.kt)("inlineCode",{parentName:"p"},"return_index")," = True:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> column_name = 'data.height'\n>>> result_max, sid_max, rid_max = citros.topic('A').get_max_value(column_name, return_index = True)\n>>> result_min, sid_min, rid_min = citros.topic('A').get_min_value(column_name, return_index = True)\n\n#print\n>>> print(f\"max value of the column '{column_name}' : {result_max} at sid = {sid_max}, rid = {rid_max}\")\n>>> print(f\"min value of the column '{column_name}' : {result_min} at sid = {sid_min}, rid = {rid_min}\")\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"max value of the column 'data.height' : 995.926 at sid = 3, rid = 0\nmin value of the column 'data.height' : -13884.705 at sid = 3, rid = 154\n")),(0,l.kt)("p",null,"If there are several cases when the maximum or minimum value is reached, the lists of corresponding sids and rids are returned."),(0,l.kt)("p",null,"Another way to apply constraints is to use argument ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by"),", that has the same syntax as ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method. If we rewrite the query from the previous example with ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by")," argument:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> result_max = citros.get_max_value(column_name, filter_by = {'topic': 'A'})\n>>> result_min = citros.get_min_value(column_name, filter_by = {'topic': 'A'})\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Constraints passed by ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by")," will override those defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods.")),(0,l.kt)("h2",{id:"number-of-messages"},"Number of Messages"),(0,l.kt)("p",null,"To calculate the number of messages in the column ",(0,l.kt)("inlineCode",{parentName:"p"},"column_name")," method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_counts"},(0,l.kt)("strong",{parentName:"a"},"get_counts(column_name, group_by = None)"))," is used."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Methods ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," may be used to apply constraints.")),(0,l.kt)("p",null,"To display the total number of rows in the table call ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_counts"},(0,l.kt)("strong",{parentName:"a"},"get_counts(column_name, group_by = None)"))," without arguments: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.get_counts()\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"[(2000,)]\n")),(0,l.kt)("p",null,"It is possible to group the results, for example by topics:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.get_counts(group_by = 'topic')\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"[('D', 519), ('A', 474), ('B', 494), ('C', 513)]\n")),(0,l.kt)("p",null,"or get the number of rows for the specific topic:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> citros.topic('A').get_counts()\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"[(474,)]\n")),(0,l.kt)("p",null,'Let\'s find the number of the rows in column "rid", for messages which meet the following requirements: "type" is \'a\' or \'b\' and "time" <= 150. If we would like to see counts for each "type" separately, ',(0,l.kt)("inlineCode",{parentName:"p"},"group_by")," argument may be used:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"#specify name of the column\n>>> column_name = 'sid'\n\n#Set \"time\" <= 150 and set \"type\" to be 'a' or 'b', group the counts by 'type':\n>>> counts = citros.time(end = 150).set_filter({'type': ['a', 'b']})\\\n                                   .get_counts(column_name, group_by = ['type'])\n\n#print the result:\n>>> print(f\"number of messages in column '{column_name}':\")\n>>> table = PrettyTable(field_names=['type', 'counts'], align='r')\n>>> table.add_rows(counts)\n>>> print(table)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"number of messages in column 'sid':\n+------+--------+\n| type | counts |\n+------+--------+\n|    b |    494 |\n|    a |    474 |\n+------+--------+\n")),(0,l.kt)("p",null,"Another way to apply constraints is to use argument ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by"),", that has the same syntax as ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method. This way, the query from the previous example will look like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> counts = citros.get_counts(column_name, group_by = ['type'],\n                               filter_by = {'time': {'<=': 150}, 'type': ['a', 'b']})\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Constraints passed by ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by")," will override those defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods.")),(0,l.kt)("h2",{id:"unique-values"},"Unique Values"),(0,l.kt)("p",null,"Method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_unique_values"},(0,l.kt)("strong",{parentName:"a"},"get_unique_values(column_names)"))," of the ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/data_access/getting_started#connection-to-the-database"},(0,l.kt)("strong",{parentName:"a"},"CitrosDB"))," object is used to get the unique values or combination of values of the columns ",(0,l.kt)("inlineCode",{parentName:"p"},"column_names"),"."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Like in the case of ",(0,l.kt)("a",{parentName:"p",href:"#query-data"},"data querying"),", such methods as ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," may be applied too to define constraints.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'Get the unique combination of "topic" and "type" and show it by ',(0,l.kt)("strong",{parentName:"li"},"prettytable"),":")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> result = citros.get_unique_values(column_names = ['topic', 'type_name'])\n>>> table = PrettyTable(field_names=column_names, align='r')\n>>> table.add_rows(result)\n>>> print(table)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"+-------+------+\n| topic | type |\n+-------+------+\n|     B |    b |\n|     A |    a |\n|     D |    d |\n|     C |    c |\n+-------+------+\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'Get the unique values of the column "type", but only for specific "time" and "topic" values, for example 100 < "time" <= 200, "topic" = \'A\':')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"#get the unique values\n>>> result = citros.topic('A').set_filter({'time': {'>': 100, '<=': 200}})\\\n                              .get_unique_values(column_names = ['type'])\n\n#print\n>>> table = PrettyTable(field_names=column_names, align='r')\n>>> table.add_rows(result)\n>>> print(table)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"+------+\n| type |\n+------+\n|    a |\n+------+\n")),(0,l.kt)("p",null,"Another way to apply constraints is to use argument ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by"),", that has the same syntax as ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method. This way, the query from the previous example will look like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> result = citros.get_unique_values(column_names = ['type'], \n                                      filter_by = {'topic': 'A', 'time': {'>': 100, '<=': 200}})\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Constraints passed by ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by")," will override those defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods.")),(0,l.kt)("h2",{id:"number-of-the-unique-values"},"Number of the unique values"),(0,l.kt)("p",null,"To see the number of the unique values, the method ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.get_unique_counts"},(0,l.kt)("strong",{parentName:"a"},"get_unique_counts(column_name, group_by = None)"))," is used."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods are used to define constraints.")),(0,l.kt)("p",null,'Let\'s find the number of unique values in column "rid", for messages, which meet the following requirements: "type" is \'a\' or \'b\' and "time" <= 150. To see counts for each "type" separately, ',(0,l.kt)("inlineCode",{parentName:"p"},"group_by")," argument may be used:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"#specify name of the column\ncolumn_name = 'sid'\n\n#Set \"time\" <= 150 and set \"type\" to be 'a' or 'b', group the counts by 'type':\n>>> counts = citros.time(end = 150)\\\n                   .set_filter({'type': ['a', 'b']})\\\n                   .get_unique_counts(column_name, group_by = ['type'])\n\n#print the result:\n>>> print(f\"number of unique values in column '{column_name}':\")\n>>> table = PrettyTable(field_names=['type', 'unique_counts'], align='r')\n>>> table.add_rows(counts)\n>>> print(table)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"number of unique values in column 'sid':\n+------+---------------+\n| type | unique_counts |\n+------+---------------+\n|    a |             3 |\n|    b |             3 |\n+------+---------------+\n")),(0,l.kt)("p",null,"Another way to apply constraints is to use argument ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by"),", that has the same syntax as ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," method. This way, the query from the previous example will look like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> counts = citros.get_unique_counts(column_name, group_by = ['type'], \n                                      filter_by = {'time': {'<=': 150}, 'type': ['a', 'b']})\n")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Constraints passed by ",(0,l.kt)("inlineCode",{parentName:"p"},"filter_by")," will override those defined by ",(0,l.kt)("a",{parentName:"p",href:"/docs/0.2.60/data_analysis/documentation/access/citros_db#access.citros_db.CitrosDB.topic"},(0,l.kt)("strong",{parentName:"a"},"topic()")),", ",(0,l.kt)("a",{parentName:"p",href:"#rid-constraints"},(0,l.kt)("strong",{parentName:"a"},"rid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#sid-constraints"},(0,l.kt)("strong",{parentName:"a"},"sid()")),", ",(0,l.kt)("a",{parentName:"p",href:"#time-constraints"},(0,l.kt)("strong",{parentName:"a"},"time()"))," and ",(0,l.kt)("a",{parentName:"p",href:"#json-data-constraints"},(0,l.kt)("strong",{parentName:"a"},"set_filter()"))," methods.")),(0,l.kt)("h2",{id:"sql-queries"},"SQL Queries"),(0,l.kt)("p",null,"You may prefer directly get a connection to the PostgreSQL database by ","[",(0,l.kt)("strong",{parentName:"p"},"get_connection()"),"]"," method and use your own SQL queries.\nFor example, to select all data from the batch 'batch_name' of the simulation 'simulation_name', do the following:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'>>> from citros import CitrosDB\n\n>>> citros = CitrosDB()\n>>> curs = citros.get_connection().cursor()\n>>> curs.execute(\'SELECT * FROM "simulation_name"."batch_name"\')\n>>> D = curs.fetchall()\n')),(0,l.kt)("p",null,"The output of the ",(0,l.kt)("inlineCode",{parentName:"p"},"fetchall()")," method is a list. It can be converted to the ",(0,l.kt)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"},"pandas.DataFrame")," if needed:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},">>> import pandas as pd\n>>> df = pd.DataFrame(D)\n")))}u.isMDXComponent=!0}}]);