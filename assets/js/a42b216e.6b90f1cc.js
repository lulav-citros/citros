"use strict";(self.webpackChunkcitros_doc=self.webpackChunkcitros_doc||[]).push([[8472],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(a),m=i,k=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return a?n.createElement(k,l(l({ref:t},c),{},{components:a})):n.createElement(k,l({ref:t},c))}));function k(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:i,l[1]=o;for(var p=2;p<r;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5389:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=a(7462),i=(a(7294),a(3905));const r={sidebar_position:80,sidebar_label:"SpiceyPy"},l="SpiceyPy",o={unversionedId:"spiceypy/spiceypy",id:"spiceypy/spiceypy",title:"SpiceyPy",description:"Overview",source:"@site/docs_tutorials/spiceypy/spiceypy.md",sourceDirName:"spiceypy",slug:"/spiceypy/",permalink:"/docs_tutorials/spiceypy/",draft:!1,tags:[],version:"current",sidebarPosition:80,frontMatter:{sidebar_position:80,sidebar_label:"SpiceyPy"},sidebar:"tutorialSidebar",previous:{title:"Lunar Starship",permalink:"/docs_tutorials/lunar_starship/"},next:{title:"Poliastro",permalink:"/docs_tutorials/poliastro/"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Installation",id:"installation",level:2},{value:"Workspace Overview",id:"workspace-overview",level:2},{value:"CITROS Initialization",id:"citros-initialization",level:2},{value:"Scenario",id:"scenario",level:2},{value:"Running the Scenario Using CITROS",id:"running-the-scenario-using-citros",level:2},{value:"Results",id:"results",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"spiceypy"},"SpiceyPy"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"This project is developed using ROS 2 nodes and leverages the SpiceyPy library - a Python implementation of ",(0,i.kt)("a",{parentName:"p",href:"https://naif.jpl.nasa.gov/naif/"},"NASA's NAIF Spice")," toolkit. Its primary purpose is to provide the orbital trajectory information of the Cassini spacecraft relative to Saturn's barycenter within specified time intervals."),(0,i.kt)("p",null,"You can find more information about SpiceyPy library on ",(0,i.kt)("a",{parentName:"p",href:"https://spiceypy.readthedocs.io/en/v2.0.0/index.html"},"SpiceyPy official website"),". ",(0,i.kt)("br",null),"\nAll project installation, code overview and usage details are also available on the project's ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/citros-garden/spiceypy"},"GitHub page"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"png",src:a(8983).Z,title:"Plot",width:"624",height:"414"})),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Please make sure you have all the ",(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#prerequisites-for-working-with-citros"},"necessary softwares")," to work with CITROS installed on your computer."),(0,i.kt)("li",{parentName:"ol"},"Install ",(0,i.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/download"},"Visual Studio code"),"."),(0,i.kt)("li",{parentName:"ol"},"We strongly recommend that you work with ",(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/dockerfile_overview"},"dockers"),". However, if you wish to work without dockers, please refer to the .devcontainer ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/citros-garden/aerosandbox_cessna/tree/main/.devcontainer"},"directory")," in project's repo, the dependencies you need are in the ",(0,i.kt)("inlineCode",{parentName:"li"},"Dockerfile")," file.")),(0,i.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#installation"},"Installation")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#workspace-overview"},"Workspace Overview")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#citros-initialization"},"CITROS Initialization")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#scenario"},"Scenario")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#running-the-scenario-using-citros"},"Running the Scenario Using CITROS")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#results"},"Results"))),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Clone the repository:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:citros-garden/spiceypy.git\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Open the repository in the ",(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#open-project-in-vscode-dev-container"},"VScode Dev Container"),".")),(0,i.kt)("h2",{id:"workspace-overview"},"Workspace Overview"),(0,i.kt)("p",null,"The SpiceyPy simulation has the following ROS 2 parameters:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Package"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"start_t"),(0,i.kt)("td",{parentName:"tr",align:null},"Initial date"),(0,i.kt)("td",{parentName:"tr",align:null},"spiceypy_cassini")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"finish_t"),(0,i.kt)("td",{parentName:"tr",align:null},"Final date"),(0,i.kt)("td",{parentName:"tr",align:null},"spiceypy_cassini")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"publish_freq"),(0,i.kt)("td",{parentName:"tr",align:null},"Frequency of publishing"),(0,i.kt)("td",{parentName:"tr",align:null},"spiceypy_cassini")))),(0,i.kt)("p",null,"This project contains only one launch file which will be used for CITROS launch. "),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Launch File"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Package"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"spiceypy_cassini.launch.py"),(0,i.kt)("td",{parentName:"tr",align:null},"SpiceyPy Cassini simulation launch file"),(0,i.kt)("td",{parentName:"tr",align:null},"spiceypy_cassini")))),(0,i.kt)("h2",{id:"citros-initialization"},"CITROS Initialization"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://citros.io/doc/docs_tutorials/getting_started/#installation"},"Install CITROS"),"."),(0,i.kt)("li",{parentName:"ol"},"Follow ",(0,i.kt)("a",{parentName:"li",href:"https://citros.io/doc/docs_tutorials/getting_started/#initialization"},"these steps")," to Initialize CITROS.")),(0,i.kt)("p",null,"Now you can see .citros directory in the explorer."),(0,i.kt)("h2",{id:"scenario"},"Scenario"),(0,i.kt)("p",null,"This simple scenario can be used to find the Cassini Spacecraft trajectory relative to Saturn's barycenter within specified time intervals. ",(0,i.kt)("br",null),"\nUsers can input the desired time bounds, and the output of the simulation will contain critical flight data, such as altitude, velocity, and other relevant parameters, recorded over time intervals. ",(0,i.kt)("br",null),"\nThis tutorial is used to show the CITROS ability to implement any useful library, in this case, the popular SpiceyPy NASA lib for spacecraft tracking. The project's setup is also showing how user can save all the simulation results in one place for any number of simulations and share these results with coworkers. ",(0,i.kt)("br",null),"\nThe parameter setup is listed in ",(0,i.kt)("inlineCode",{parentName:"p"},".citros/parameter_setups/default_param_setup.json"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "packages": {\n        "spiceypy_cassini": {\n            "spiceypy_cassini": {\n                "ros__parameters": {\n                    "start_t": "Jun 20, 2004",\n                    "finish_t": "Dec 1, 2006",\n                    "num_steps": 4000,\n                    "publish_freq": 100.0\n                }\n            }\n        }\n    }\n}\n')),(0,i.kt)("p",null,"Learn more about parameter setup and defining custom functions in ",(0,i.kt)("a",{parentName:"p",href:"../../docs/advanced_guides/citros_structure#directory-simulations"},"Directory parameter_setups")," and ",(0,i.kt)("a",{parentName:"p",href:"../../docs/guides/config_params"},"Adding Functions to Parameter Setup")," pages."),(0,i.kt)("p",null,"In addition to parameter setup, you can configure the simulation performance setup (timeout, CPU, GPU and Memory) as well.\nThis parameters can be found in ",(0,i.kt)("inlineCode",{parentName:"p"},".citros/simulations/simulation_spiceypy_cassini.json"),". ",(0,i.kt)("br",null),"\nLook in ",(0,i.kt)("a",{parentName:"p",href:"../../docs/advanced_guides/citros_structure#directory-simulations"},"Directory simulations page")," for more information."),(0,i.kt)("h2",{id:"running-the-scenario-using-citros"},"Running the Scenario Using CITROS"),(0,i.kt)("p",null,"Follow these steps to ",(0,i.kt)("a",{parentName:"p",href:"../../docs/guides/getting_started#run-simulation"},"Run Simulation"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Name your  batch run simulation: ",(0,i.kt)("inlineCode",{parentName:"li"},"spiceypy_cassini")),(0,i.kt)("li",{parentName:"ol"},"Add a message to your batch run simulation: ",(0,i.kt)("inlineCode",{parentName:"li"},"local test run")),(0,i.kt)("li",{parentName:"ol"},"Run your simulation ",(0,i.kt)("strong",{parentName:"li"}," 5 times "),".")),(0,i.kt)("p",null,"All the results will be saved under ",(0,i.kt)("inlineCode",{parentName:"p"},".citros/data/simulation_spiceypy_cessna")," folder."),(0,i.kt)("h2",{id:"results"},"Results"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#create-db"},"Create Database")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#load-data-to-db"},"Upload data to the database")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#verify-data-loaded"},"Verify the data was loaded")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#execute-notebook"},"Execute the Notebook")," ",(0,i.kt)("inlineCode",{parentName:"li"},"spicypy_notebook_example.ipynb"),". ",(0,i.kt)("br",null),"\nYou will find the notebook under ",(0,i.kt)("inlineCode",{parentName:"li"},"citros_template/notebooks")," folder.")),(0,i.kt)("p",null,"The graph below shows us the Cassini altitude:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"png",src:a(9334).Z,title:"CITROS example",width:"586",height:"414"})))}d.isMDXComponent=!0},8983:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Example0-8d75b3e6c2f8526c3d91d4e1d397fed9.png"},9334:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/citros3-8b587b19b43a351770c64ce9273ce08c.png"}}]);