"use strict";(self.webpackChunkcitros_doc=self.webpackChunkcitros_doc||[]).push([[9994],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>h});var r=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var s=r.createContext({}),u=function(t){var e=r.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},p=function(t){var e=u(t.components);return r.createElement(s.Provider,{value:e},t.children)},d="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,i=t.originalType,s=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),d=u(a),m=n,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return a?r.createElement(h,o(o({ref:e},p),{},{components:a})):r.createElement(h,o({ref:e},p))}));function h(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[d]="string"==typeof t?t:n,o[1]=l;for(var u=2;u<i;u++)o[u]=a[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},64907:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=a(87462),n=(a(67294),a(3905));const i={sidebar_position:50,sidebar_label:"TurtleBot"},o="TurtleBot3",l={unversionedId:"turtlebot/turtlebot",id:"turtlebot/turtlebot",title:"TurtleBot3",description:"Overview",source:"@site/docs_tutorials/turtlebot/turtlebot.md",sourceDirName:"turtlebot",slug:"/turtlebot/",permalink:"/docs_tutorials/turtlebot/",draft:!1,tags:[],version:"current",sidebarPosition:50,frontMatter:{sidebar_position:50,sidebar_label:"TurtleBot"},sidebar:"tutorialSidebar",previous:{title:"Robotic Arm",permalink:"/docs_tutorials/robotic_arm/"},next:{title:"Lunar Hopper",permalink:"/docs_tutorials/lunar_hopper/"}},s={},u=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Installation",id:"installation",level:2},{value:"Workspace Overview",id:"workspace-overview",level:2},{value:"CITROS Initialization",id:"citros-initialization",level:2},{value:"Scenario",id:"scenario",level:2},{value:"Running the Scenario Using CITROS",id:"running-the-scenario-using-citros",level:2},{value:"Results",id:"results",level:2}],p={toc:u},d="wrapper";function c(t){let{components:e,...i}=t;return(0,n.kt)(d,(0,r.Z)({},p,i,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"turtlebot3"},"TurtleBot3"),(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"This project is designed to wrap the official ",(0,n.kt)("a",{parentName:"p",href:"https://emanual.robotis.com/docs/en/platform/turtlebot3/simulation/#gazebo-simulation"},"TurtleBot3 simulation example")," and integrate it with a simple Autonomous Collision Avoidance node. ",(0,n.kt)("br",null),"\nThe project gives users the flexibility to modify various TurtleBot3 specifications by changing ROS 2 parameters. These parameters may include attributes like the robot's size, speed, sensor range, or collision avoidance algorithms. Users can experiment with different parameter values to observe their impact on collision avoidance behavior. The TurtleBot3 robot is capable of orienting itself effectively within a prepared TurtleBot3 world. It utilizes the simulated lidar module to gather environmental data, allowing it to make informed decisions about its navigation path.",(0,n.kt)("br",null),"\nAll project installation, code overview and usage details are also available on the project's ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/citros-garden/turtlebot3"},"GitHub page"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"jpg",src:a(28264).Z,title:"TurtleBot3",width:"620",height:"401"})),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Please make sure you have all the ",(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#prerequisites-for-working-with-citros"},"necessary softwares")," to work with CITROS installed on your computer."),(0,n.kt)("li",{parentName:"ol"},"Install ",(0,n.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/download"},"Visual Studio code"),"."),(0,n.kt)("li",{parentName:"ol"},"We strongly recommend that you work with ",(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/dockerfile_overview"},"dockers"),". However, if you wish to work without dockers, please refer to the .devcontainer ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/citros-garden/aerosandbox_cessna/tree/main/.devcontainer"},"directory")," in project's repo, the dependencies you need are in the ",(0,n.kt)("inlineCode",{parentName:"li"},"Dockerfile")," file.")),(0,n.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#installation"},"Installation")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#workspace-overview"},"Workspace Overview")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#citros-initialization"},"CITROS Initialization")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#scenario"},"Scenario")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#running-the-scenario-using-citros"},"Running the Scenario Using CITROS")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"#results"},"Results"))),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Clone the repository:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"git clone git@github.com:citros-garden/turtlebot3.git\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Open the repository in the ",(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#open-project-in-vscode-dev-container"},"VScode Dev Container"),".")),(0,n.kt)("h2",{id:"workspace-overview"},"Workspace Overview"),(0,n.kt)("p",null,"The Turtlebot simulation has the following ROS 2 parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Package"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"separation"),(0,n.kt)("td",{parentName:"tr",align:null},"wheel separation"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"radius"),(0,n.kt)("td",{parentName:"tr",align:null},"wheel radius"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"check_forward_dist_param"),(0,n.kt)("td",{parentName:"tr",align:null},"forward checking distance for Autonomous Collision Avoidance"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"check_side_dist_param"),(0,n.kt)("td",{parentName:"tr",align:null},"side checking distance for Autonomous Collision Avoidance"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")))),(0,n.kt)("p",null,"This project contains two launch files, we use ",(0,n.kt)("inlineCode",{parentName:"p"},"turtlebot3_sim_cont.launch.py")," to run a simulation, while the second file launches automatically."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Launch File"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Package"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_sim_cont.launch.py"),(0,n.kt)("td",{parentName:"tr",align:null},"Gazebo headless TurtleBot world launch file"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"robot_state_publisher.launch.py"),(0,n.kt)("td",{parentName:"tr",align:null},"Utility launch file for state publishing"),(0,n.kt)("td",{parentName:"tr",align:null},"turtlebot3_gazebo")))),(0,n.kt)("h2",{id:"citros-initialization"},"CITROS Initialization"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://citros.io/doc/docs_tutorials/getting_started/#installation"},"Install CITROS"),"."),(0,n.kt)("li",{parentName:"ol"},"Follow ",(0,n.kt)("a",{parentName:"li",href:"https://citros.io/doc/docs_tutorials/getting_started/#initialization"},"these steps")," to Initialize CITROS.")),(0,n.kt)("p",null,"Now you can see .citros directory in the explorer."),(0,n.kt)("h2",{id:"scenario"},"Scenario"),(0,n.kt)("p",null,"In this scenario the ROS 2 node interfaces with the official TurtleBot3 simulation example, leveraging the TurtleBot3 robot model and simulated environment. ",(0,n.kt)("br",null),"\nThis integration allows users to observe how the robot behaves in a controlled environment.",(0,n.kt)("br",null),"\nThe node includes a simple Autonomous Collision Avoidance module which ensures the TurtleBot3 avoids collisions with obstacles in its path, it utilizes sensor data, such as simulated lidar readings, to detect obstacles and adjust the robot's trajectory accordingly. The output of the simulation is a robot's trajectory, sensors outputs and other ",(0,n.kt)("a",{parentName:"p",href:"https://emanual.robotis.com/docs/en/software/robotis_framework_packages/"},"standard TurtleBot3 ROS 2 topics"),".",(0,n.kt)("br",null)),(0,n.kt)("p",null,"In this tutorial, we will examine the powerful CITROS Error Analysis (a part of Data Analysis) package. We will analyze data from IMU (Inertial Measurement Unit), Odometer and position information. ",(0,n.kt)("br",null),"\nFor that, we need to set up parameters and launch CITROS simulation. The parameter setup is listed in ",(0,n.kt)("inlineCode",{parentName:"p"},".citros/parameter_setups/default_param_setup.json"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "packages": {\n        "turtlebot3_gazebo": {\n            "turtlebot3_gazebo": {\n                "ros__parameters": {\n                    "wheels": {\n                        "radius": 0.05,\n                        "separation": 0.16\n                    },\n                    "check_forward_dist_param": 0.7,\n                    "check_side_dist_param": 0.6,\n                    "joint_states_frame": "base_footprint",\n                    "odom_frame": "odom",\n                    "base_frame": "base_footprint"\n                }\n            }\n        }\n    }\n}\n')),(0,n.kt)("p",null,"Learn more about parameter setup and defining custom functions in ",(0,n.kt)("a",{parentName:"p",href:"../../docs/advanced_guides/citros_structure#directory-simulations"},"Directory parameter_setups")," and ",(0,n.kt)("a",{parentName:"p",href:"../../docs/guides/config_params"},"Adding Functions to Parameter Setup")," pages."),(0,n.kt)("p",null,"In addition to parameter setup, you can configure the simulation performance setup (timeout, CPU, GPU and Memory) as well.\nThis parameters can be found in ",(0,n.kt)("inlineCode",{parentName:"p"},".citros/simulations/simulation_turtlebot3_sim_cont.json"),". ",(0,n.kt)("br",null),"\nLook in ",(0,n.kt)("a",{parentName:"p",href:"../../docs/advanced_guides/citros_structure#directory-simulations"},"Directory simulations page")," for more information."),(0,n.kt)("h2",{id:"running-the-scenario-using-citros"},"Running the Scenario Using CITROS"),(0,n.kt)("p",null,"Follow these steps to ",(0,n.kt)("a",{parentName:"p",href:"../../docs/guides/getting_started#run-simulation"},"Run Simulation"),":"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Name your  batch run simulation: ",(0,n.kt)("inlineCode",{parentName:"li"},"turtlebot3")),(0,n.kt)("li",{parentName:"ol"},"Add a message to your batch run simulation: ",(0,n.kt)("inlineCode",{parentName:"li"},"local test run")),(0,n.kt)("li",{parentName:"ol"},"Run your simulation ",(0,n.kt)("strong",{parentName:"li"}," 5 times "),".")),(0,n.kt)("p",null,"All the results will be saved under ",(0,n.kt)("inlineCode",{parentName:"p"},".citros/data/simulation_turtlebot3")," folder."),(0,n.kt)("h2",{id:"results"},"Results"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#create-db"},"Create Database")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#load-data-to-db"},"Upload data to the database")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#verify-data-loaded"},"Verify the data was loaded")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"../../docs/guides/getting_started#execute-notebook"},"Execute the Notebook")," ",(0,n.kt)("inlineCode",{parentName:"li"},"turtlebot_notebook_example.ipynb"),". ",(0,n.kt)("br",null),"\nYou will find the notebook under ",(0,n.kt)("inlineCode",{parentName:"li"},"citros_template/notebooks")," folder.")),(0,n.kt)("p",null,"As you can see, the traveled trajectory varies for different simulations:\n",(0,n.kt)("img",{alt:"png",src:a(9288).Z,title:"CITROS example",width:"564",height:"453"})),(0,n.kt)("p",null,"The graph below shows values from data attribute vs. independent parameter for each of the simulation, the mean value over all the simulations and 3 \u03c3 interval."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:a(33010).Z,title:"CITROS example",width:"701",height:"604"})))}c.isMDXComponent=!0},9288:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/citros2-c67460131b4ebbf38d206c002b0c93dc.png"},33010:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/citros3-dac22f3b29c2ceccde62dff81d55d939.png"},28264:(t,e,a)=>{a.d(e,{Z:()=>r});const r=a.p+"assets/images/turtlebot3_0-7a1b3f57d4291af0b5693c3807174d2f.jpg"}}]);