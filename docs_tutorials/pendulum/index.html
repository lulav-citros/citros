<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-docs_tutorials docs-doc-id-pendulum/Pendulum" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Pendulum | CITROS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.citros.io/img/citros-link.png"><meta data-rh="true" name="twitter:image" content="https://docs.citros.io/img/citros-link.png"><meta data-rh="true" property="og:url" content="https://docs.citros.io/docs_tutorials/pendulum/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_tutorials-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_tutorials-current"><meta data-rh="true" property="og:title" content="Pendulum | CITROS"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.citros.io/docs_tutorials/pendulum/"><link data-rh="true" rel="alternate" href="https://docs.citros.io/docs_tutorials/pendulum/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.citros.io/docs_tutorials/pendulum/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.5f0db720.css">
<link rel="preload" href="/assets/js/runtime~main.2c42cf84.js" as="script">
<link rel="preload" href="/assets/js/main.bbf7de02.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://citros.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/citros.png" alt="CITROS Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/citros.png" alt="CITROS Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/general/overview">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs_tutorials">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/">Introduction to CITROS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/soft_landing/">Soft Landing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/drone/">Drone</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/mass_spring_damper/">Mass Spring Damper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/gal_orbits/">Galactic Orbits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/aerosandbox/">Aerosandbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/robotic_arm/">Robotic Arm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/turtlebot/">TurtleBot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/lunar_hopper/">Lunar Hopper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/lunar_starship/">Lunar Starship</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/spiceypy/">SpiceyPy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/poliastro/">Poliastro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs_tutorials/pendulum/">Pendulum</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Pendulum</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Pendulum</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2><p>Pendulum systems, encompassing setups from simple single pendulums to complex multi-pendulum arrangements, are governed by the principles of classical mechanics.
The double pendulum, a classic example of a chaotic system, exhibits intricate and unpredictable behavior that is highly sensitive to its initial conditions. This system consists of two pendulums attached end to end, where the motion of the second pendulum depends on the first. One of the most fascinating aspects of a double pendulum is its sensitivity to initial parameters, including the starting angles and velocities of the pendulums. Small changes in these initial parameters can lead to vastly different trajectories. That means, if one double pendulum starts at a slightly different angle than an identical pendulum, their motions will diverge significantly over time.</p><p>Setting a range of simulations with various initial parameters and exploring the behavior of the systems is convenient with CITROS: </p><ul><li>you can easily set new parameters for the simulations using <a href="https://citros.io/doc/docs_cli" target="_blank" rel="noopener noreferrer">command line</a> or <a href="https://citros.io/doc/docs/" target="_blank" rel="noopener noreferrer">web interface</a> and immediately send the scenario to be executed in the cloud;</li><li>have access to all your simulated data from the different devices;</li><li>set the analysis of the results to a pipeline by preparing notebooks using <a href="https://citros.io/doc/docs_data_analysis/" target="_blank" rel="noopener noreferrer"><strong>citros_data_analysis</strong></a> package.</li></ul><p>In the current project we suggest to explore two systems: double pendulum and system with spring, where the second component of the double pendulum is connected to an ordinary pendulum by a spring. In both models, all rods are considered weightless and inextensible, the weights are point masses, and air resistance is neglected (thus, no energy losses).</p><p><img loading="lazy" alt="systems_schema" src="/assets/images/systems_schema-00425bda662ca298017dfeac060cb7bb.png" width="639" height="473" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h2><p>If you are working inside the docker development container, everything is already installed. Otherwise, please check the dependencies in Dockerfile in <a href="https://github.com/citros-garden/pendulum/tree/main/.devcontainer" target="_blank" rel="noopener noreferrer">.devcontainer</a> folder.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">â€‹</a></h2><ol><li><a href="#installation">Installation</a></li><li><a href="#workspace-overview">Workspace Overview</a><ol><li><a href="#input-parameters">Input Parameters</a></li><li><a href="#source-code-and-launch-file">Source Code and Launch File</a></li><li><a href="#output-of-the-simulation">Output of the Simulation</a></li></ol></li><li><a href="#citros-initialization">CITROS Initialization</a></li><li><a href="#scenario">Scenario</a><ol><li><a href="#parameter-setup">Parameter Setup</a></li><li><a href="#simulation-setup">Simulation Setup</a></li></ol></li><li><a href="#running-the-scenario-using-citros">Running the Scenario Using CITROS</a></li><li><a href="#results">Results</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">â€‹</a></h2><p>Clone the repository:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone git@github.com:citros-garden/pendulum.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are working with devcontainer, make sure you installed <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">Visual Studio code</a> and then open the repository in the <a href="https://citros.io/doc/docs_tutorials/getting_started/#open-project-in-vscode-dev-container" target="_blank" rel="noopener noreferrer">VScode Dev Container</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workspace-overview">Workspace Overview<a href="#workspace-overview" class="hash-link" aria-label="Direct link to Workspace Overview" title="Direct link to Workspace Overview">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="input-parameters">Input Parameters<a href="#input-parameters" class="hash-link" aria-label="Direct link to Input Parameters" title="Direct link to Input Parameters">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="double-pendulum">Double Pendulum<a href="#double-pendulum" class="hash-link" aria-label="Direct link to Double Pendulum" title="Direct link to Double Pendulum">â€‹</a></h4><p><img loading="lazy" alt="double_pendulum_schema" src="/assets/images/double_pendulum_schema-ea4fecc50219985030db0697d57816e9.png" width="337" height="525" class="img_ev3q"></p><p>Parameters of the simulation with their default values are listed in <code>src/double_pendulum/config/params.yaml</code> file:</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>publish_freq</td><td>10</td><td>frequency of publishing</td></tr><tr><td>l1</td><td>0.08</td><td>Length of the first pendulum, m</td></tr><tr><td>l2</td><td>0.2</td><td>Length of the second pendulum, m</td></tr><tr><td>m1</td><td>5.0</td><td>Mass of the first pendulum, kg</td></tr><tr><td>m2</td><td>3.0</td><td>Mass of the second pendulum, kg</td></tr><tr><td>a1_0</td><td>30.0</td><td>Initial angle of the first pendulum, counted counterclockwise, degrees</td></tr><tr><td>a2_0</td><td>10.0</td><td>Initial angle of the second pendulum, counted counterclockwise, degrees</td></tr><tr><td>v1_0</td><td>0.0</td><td>Initial angular velocity of the first pendulum, counted counterclockwise, degrees per second</td></tr><tr><td>v2_0</td><td>0.0</td><td>Initial angular velocity of the second pendulum, counted counterclockwise, degrees per second</td></tr><tr><td>T</td><td>10.0</td><td>Time of the simulation, seconds</td></tr><tr><td>h</td><td>0.01</td><td>Step of the simulation, seconds</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="system-with-spring">System with Spring<a href="#system-with-spring" class="hash-link" aria-label="Direct link to System with Spring" title="Direct link to System with Spring">â€‹</a></h4><p><img loading="lazy" alt="system_with_spring_schema" src="/assets/images/system_with_spring_schema-d023684e2f086ba8676267941743829c.png" width="337" height="525" class="img_ev3q"></p><p>Parameters of the simulation with their default values are listed in <code>src/system_with_spring/config/params.yaml</code> file:</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>publish_freq</td><td>10</td><td>frequency of publishing</td></tr><tr><td>l1</td><td>0.08</td><td>Length of the first pendulum, m</td></tr><tr><td>l2</td><td>0.2</td><td>Length of the second pendulum, m</td></tr><tr><td>l3</td><td>0.32</td><td>Length of the third pendulum, m</td></tr><tr><td>lk</td><td>0.14</td><td>Spring attachment point, m. The spring is attached at a point lk meters from the beginning of the rod of the third pendulum at one end and at a point (lk - l1) meters from the beginning of the rod of the second pendulum at the other end. lk &gt; l1, (l1+l2) &gt; lk and l3 &gt; lk</td></tr><tr><td>m1</td><td>5.0</td><td>Mass of the first pendulum, kg</td></tr><tr><td>m2</td><td>3.0</td><td>Mass of the second pendulum, kg</td></tr><tr><td>m3</td><td>1.0</td><td>Mass of the second pendulum, kg</td></tr><tr><td>a1_0</td><td>30.0</td><td>Initial angle of the first pendulum, counted counterclockwise, degrees</td></tr><tr><td>a2_0</td><td>10.0</td><td>Initial angle of the second pendulum, counted counterclockwise, degrees</td></tr><tr><td>a2_0</td><td>-30.0</td><td>Initial angle of the third pendulum, counted counterclockwise, degrees</td></tr><tr><td>v1_0</td><td>0.0</td><td>Initial angular velocity of the first pendulum, counted counterclockwise, degrees per second</td></tr><tr><td>v2_0</td><td>0.0</td><td>Initial angular velocity of the second pendulum, counted counterclockwise, degrees per second</td></tr><tr><td>v3_0</td><td>0.0</td><td>Initial angular velocity of the third pendulum, counted counterclockwise, degrees per second</td></tr><tr><td>x0</td><td>0.1</td><td>Horizontal distance between attachment points of the first and third pendulums, m</td></tr><tr><td>k</td><td>100.0</td><td>Spring constant, kg/s^2</td></tr><tr><td>l0</td><td>0.05</td><td>Unstretched spring length, m</td></tr><tr><td>T</td><td>10.0</td><td>Time of the simulation, seconds</td></tr><tr><td>h</td><td>0.01</td><td>Step of the simulation, seconds</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source-code-and-launch-file">Source Code and Launch File<a href="#source-code-and-launch-file" class="hash-link" aria-label="Direct link to Source Code and Launch File" title="Direct link to Source Code and Launch File">â€‹</a></h3><p>In the <code>src/double_pendulum/double_pendulum/</code> folder the source files for the double pendulum system are located:</p><ul><li><code>system_model.py</code> - Python code of the double pendulum model,</li><li><code>double_pendulum.py</code> - Python script that publish the results.</li></ul><p>The source files for the system of pendulum and double pendulum connected by spring are located in the <code>src/system_with_spring/system_with_spring/</code> folder:</p><ul><li><code>system_model.py</code> - Python code of the system model,</li><li><code>double_pendulum.py</code> - Python script that publish the results.</li></ul><p>Two other folders - <code>src/double_pendulum_interfaces</code> and <code>src/system_with_spring_interfaces/</code> - contain definitions of the custom messages.</p><p>The launch files are located in <code>src/double_pendulum/launch/double_pendulum.launch.py</code> and <code>src/system_with_spring/launch/system_with_spring.launch.py</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-of-the-simulation">Output of the Simulation<a href="#output-of-the-simulation" class="hash-link" aria-label="Direct link to Output of the Simulation" title="Direct link to Output of the Simulation">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="double-pendulum-1">Double Pendulum<a href="#double-pendulum-1" class="hash-link" aria-label="Direct link to Double Pendulum" title="Direct link to Double Pendulum">â€‹</a></h4><p>The simulated data is published to a topic <code>&#x27;/coordinates&#x27;</code>. Each message has the custom message type that is defined in <code>src/double_pendulum_interfaces/</code>:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;t&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;p1&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;p2&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where:</p><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>t</td><td>time, s</td></tr><tr><td>p1.x</td><td>x coordinate of the first pendulum, m</td></tr><tr><td>p1.y</td><td>y coordinate of the first pendulum, m</td></tr><tr><td>p2.x</td><td>x coordinate of the second pendulum, m</td></tr><tr><td>p2.y</td><td>y coordinate of the second pendulum, m</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="system-with-spring-1">System with Spring<a href="#system-with-spring-1" class="hash-link" aria-label="Direct link to System with Spring" title="Direct link to System with Spring">â€‹</a></h4><p>The simulated data is published to a topic named <code>&#x27;/coordinates&#x27;</code> too. Each message has the custom message type that is defined in <code>src/system_with_spring_interfaces/</code>:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;t&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;p1&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;p2&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;p3&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&#x27;spr&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x0&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;x1&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y0&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&#x27;y1&#x27;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;float&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where:</p><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>t</td><td>time, s</td></tr><tr><td>p1.x</td><td>x coordinate of the first pendulum, m</td></tr><tr><td>p1.y</td><td>y coordinate of the first pendulum, m</td></tr><tr><td>p2.x</td><td>x coordinate of the second pendulum, m</td></tr><tr><td>p2.y</td><td>y coordinate of the second pendulum, m</td></tr><tr><td>p3.x</td><td>x coordinate of the third pendulum, m</td></tr><tr><td>p3.y</td><td>y coordinate of the third pendulum, m</td></tr><tr><td>spr.x0</td><td>x coordinate of the spring attachment to the third pendulum, m</td></tr><tr><td>spr.x1</td><td>x coordinate of the spring attachment to the second pendulum, m</td></tr><tr><td>spr.y0</td><td>y coordinate of the spring attachment to the third pendulum, m</td></tr><tr><td>spr.y1</td><td>x coordinate of the spring attachment to the second pendulum, m</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="citros-initialization">CITROS Initialization<a href="#citros-initialization" class="hash-link" aria-label="Direct link to CITROS Initialization" title="Direct link to CITROS Initialization">â€‹</a></h2><p>To start working with CITROS you need to install CITROS CLI package, log in, set ssh key and initialize the <code>.citros</code> repository. To do this please follow:</p><ol><li><a href="https://citros.io/doc/docs_tutorials/getting_started/#installation" target="_blank" rel="noopener noreferrer">Install CITROS</a></li><li><a href="https://citros.io/doc/docs_tutorials/getting_started/#initialization" target="_blank" rel="noopener noreferrer">Initialize CITROS</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scenario">Scenario<a href="#scenario" class="hash-link" aria-label="Direct link to Scenario" title="Direct link to Scenario">â€‹</a></h2><p>Let&#x27;s investigate whether minor changes in initial parameters have a significant impact on the motion of the pendulum.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameter-setup">Parameter Setup<a href="#parameter-setup" class="hash-link" aria-label="Direct link to Parameter Setup" title="Direct link to Parameter Setup">â€‹</a></h3><p>Parameters are listed in file <code>.citros/parameter_setups/default_param_setup.json</code>. We can randomize, for example, the initial angles and try the system simulations with the following parameters:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string-property property">&quot;packages&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&quot;double_pendulum&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token string-property property">&quot;double_pendulum&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token string-property property">&quot;ros__parameters&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;publish_freq&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l1&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l2&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;m1&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;m2&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;a1_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token string-property property">&quot;function&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;numpy.random.normal&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token string-property property">&quot;args&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">120.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;a2_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">30.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;v1_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;v2_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;T&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;h&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.01</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string-property property">&quot;system_with_spring&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token string-property property">&quot;system_with_spring&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token string-property property">&quot;ros__parameters&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;publish_freq&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l1&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.08</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l2&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l3&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.32</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;lk&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;m1&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;m2&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;m3&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;a1_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">30.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;a2_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token string-property property">&quot;function&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;numpy.random.normal&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token string-property property">&quot;args&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">10.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;a3_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">30.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;v1_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;v2_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;v3_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;x0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;k&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">100.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;l0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.05</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;T&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token string-property property">&quot;h&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.05</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For double pendulum system we randomize the initial angle of the first pendulum using normal distribution with mean equals 120 degrees and standard deviation equals 5 degrees. For the system with spring the angle of the second pendulum (the bottom component of the double pendulum) is randomly chosen from the normal distribution where mean = 20 degrees and standard deviation = 5 degrees.</p><p>Learn more about parameter setup in <a href="https://citros.io/doc/docs_cli/structure/citros_structure/#directory-parameter_setups" target="_blank" rel="noopener noreferrer">Directory parameter_setups</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="simulation-setup">Simulation Setup<a href="#simulation-setup" class="hash-link" aria-label="Direct link to Simulation Setup" title="Direct link to Simulation Setup">â€‹</a></h3><p>Check the <code>.citros/simulations/simulation_double_pendulum.json</code> and <code>.citros/simulations/simulation_system_with_spring.json</code> files. They are used to set the parameter setup files, launch files, memory to use and so on, please look in <a href="https://citros.io/doc/docs_cli/structure/citros_structure#directory-simulations" target="_blank" rel="noopener noreferrer">Directory simulations page</a> for more information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-scenario-using-citros">Running the Scenario Using CITROS<a href="#running-the-scenario-using-citros" class="hash-link" aria-label="Direct link to Running the Scenario Using CITROS" title="Direct link to Running the Scenario Using CITROS">â€‹</a></h2><p>Next step is to <a href="https://citros.io/doc/docs_tutorials/getting_started/#upload-to-citros-server" target="_blank" rel="noopener noreferrer">Upload project to CITROS Server</a>.</p><p>After the following steps everything is ready to run the simulations in the cloud. Let&#x27;s run two scenarios - one for the system of the double pendulum and one for the system with spring, the names of the resulting batches are set by <code>-n</code> key. Let&#x27;s set 7 simulation runs for each of them by <code>-c</code> key. <code>-r</code> defines that the runs will be processed remotely. After typing the following command you will be asked to select the corresponding simulation scenario:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">citros run -n </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;double_pendulum_angles&quot;</span><span class="token plain"> -m </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;first run&quot;</span><span class="token plain"> -c </span><span class="token number" style="color:rgb(181, 206, 168)">7</span><span class="token plain"> -r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">citros run -n </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;spring_system_angles&quot;</span><span class="token plain"> -m </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;first run&quot;</span><span class="token plain"> -c </span><span class="token number" style="color:rgb(181, 206, 168)">7</span><span class="token plain"> -r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="results">Results<a href="#results" class="hash-link" aria-label="Direct link to Results" title="Direct link to Results">â€‹</a></h2><p>Check the results of the simulations using <a href="https://citros.io/pendulum/tree/main/notebooks" target="_blank" rel="noopener noreferrer"><code>notebooks</code></a> and <a href="https://citros.io/doc/docs_data_analysis" target="_blank" rel="noopener noreferrer">citros_data_analysis package</a> which allows you to query, visualize and analyze the results.</p><p>Let&#x27;s query data from the batch <code>double_pendulum_angles</code> that we have just <a href="#running-the-scenario-using-citros">created</a> and plot the trajectory of the second component of the double pendulum. As we mentioned in <a href="#output-of-the-simulation">Output of the Simulation</a> section, the data is published to a topic <code>&#x27;/coordinates&#x27;</code>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> citros_data_analysis </span><span class="token keyword" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> data_access </span><span class="token keyword" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> da</span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">citros </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> da</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">CitrosDB</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span modifiedline="[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">F </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> citros</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">batch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;double_pendulum_angles&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">topic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/coordinates&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">citros</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">plot_graph</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;data.p2.x&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;data.p2.y&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="double_pendulum_xy" src="/assets/images/double_pendulum_xy-0b54c47b44fd838cb535a37b6e8f89ae.png" title="double_pendulum_xy" width="547" height="525" class="img_ev3q"></p><p>Let&#x27;s print the initial angles of the second pendulum that were set randomly. The initial parameters are written in topic <code>&#x27;/config&#x27;</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">col_name </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;data.double_pendulum.ros__parameters.a1_0&#x27;</span><span class="token plain"></span><br></span><span modifiedline="[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">a1_0 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> citros</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">batch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;double_pendulum_angles&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">topic</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/config&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">col_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> additional_columns</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">rename</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain">col_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;a1_0&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> axis </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">a1_0 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> a1_0 </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">a1_0 </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;a1_0&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">notna</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span modifiedline="[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">a1_0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>sid</th><th>a1_0</th></tr></thead><tbody><tr><td>0</td><td>117.642381</td></tr><tr><td>1</td><td>115.928387</td></tr><tr><td>2</td><td>115.404127</td></tr><tr><td>3</td><td>117.184502</td></tr><tr><td>4</td><td>121.258164</td></tr><tr><td>5</td><td>117.592449</td></tr><tr><td>6</td><td>115.255676</td></tr></tbody></table><p>As we can see, the trajectories differ significantly and unpredictably although the initial parameters have quite close values.</p><p>Refer to the notebook <a href="https://citros.io/pendulum/blob/main/notebooks/double_pendulum.ipynb" target="_blank" rel="noopener noreferrer">notebooks/double_pendulum.ipynb</a> for more detailed information about batches and additional ideas on visualization, such as plotting the animation of the pendulum&#x27;s motion.<br>
Additionally, examine <a href="https://citros.io/pendulum/blob/main/notebooks/system_with_spring.ipynb" target="_blank" rel="noopener noreferrer">notebooks/system_with_spring.ipynb</a> for a detailed view of the spring system behavior.</p><p>Feel free to set up your own simulations varying different parameters, create your own notebooks and explore pendulum systems with CITROS!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs_tutorials/poliastro/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Poliastro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#workspace-overview" class="table-of-contents__link toc-highlight">Workspace Overview</a><ul><li><a href="#input-parameters" class="table-of-contents__link toc-highlight">Input Parameters</a></li><li><a href="#source-code-and-launch-file" class="table-of-contents__link toc-highlight">Source Code and Launch File</a></li><li><a href="#output-of-the-simulation" class="table-of-contents__link toc-highlight">Output of the Simulation</a></li></ul></li><li><a href="#citros-initialization" class="table-of-contents__link toc-highlight">CITROS Initialization</a></li><li><a href="#scenario" class="table-of-contents__link toc-highlight">Scenario</a><ul><li><a href="#parameter-setup" class="table-of-contents__link toc-highlight">Parameter Setup</a></li><li><a href="#simulation-setup" class="table-of-contents__link toc-highlight">Simulation Setup</a></li></ul></li><li><a href="#running-the-scenario-using-citros" class="table-of-contents__link toc-highlight">Running the Scenario Using CITROS</a></li><li><a href="#results" class="table-of-contents__link toc-highlight">Results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Visit</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/lulavspace" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/lulav-space/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkdin</a></li></ul></div><div class="col footer__col"><div class="footer__title">More to Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/citros-garden" target="_blank" rel="noopener noreferrer" class="footer__link-item">CITROS Garden in GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.lulav.space" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms and Conditions</a></li><li class="footer__item"><a href="https://www.lulav.space" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Lulav Space.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2c42cf84.js"></script>
<script src="/assets/js/main.bbf7de02.js"></script>
</body>
</html>