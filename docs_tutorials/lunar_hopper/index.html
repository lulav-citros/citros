<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-docs_tutorials docs-doc-id-lunar_hopper/lunar_hopper" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Lunar Hopper | CITROS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.citros.io/img/citros-link.png"><meta data-rh="true" name="twitter:image" content="https://docs.citros.io/img/citros-link.png"><meta data-rh="true" property="og:url" content="https://docs.citros.io/docs_tutorials/lunar_hopper/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs_tutorials-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs_tutorials-current"><meta data-rh="true" property="og:title" content="Lunar Hopper | CITROS"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.citros.io/docs_tutorials/lunar_hopper/"><link data-rh="true" rel="alternate" href="https://docs.citros.io/docs_tutorials/lunar_hopper/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.citros.io/docs_tutorials/lunar_hopper/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.5f0db720.css">
<link rel="preload" href="/assets/js/runtime~main.0e9235bd.js" as="script">
<link rel="preload" href="/assets/js/main.c79dd685.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://citros.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/citros.png" alt="CITROS Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/citros.png" alt="CITROS Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/general/overview">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs_tutorials">Tutorials</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/">Introduction to CITROS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/soft_landing/">Soft Landing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/drone/">Drone</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/mass_spring_damper/">Mass Spring Damper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/gal_orbits/">Galactic Orbits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/aerosandbox/">Aerosandbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/robotic_arm/">Robotic Arm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/turtlebot/">TurtleBot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs_tutorials/lunar_hopper/">Lunar Hopper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/lunar_starship/">Lunar Starship</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/spiceypy/">SpiceyPy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/poliastro/">Poliastro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs_tutorials/pendulum/">Pendulum</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lunar Hopper</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lunar Hopper</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>The Lunar Hopper project is a lunar exploration planning project aimed at solving the intricate problem of lunar hopper missions. It focuses on optimizing the spacecraft&#x27;s trajectory across the whole flight. Leveraging state-of-the-art optimal problem-solving algorithms, specifically the <a href="https://mpopt.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">MPOPT Python library</a>, this project seeks to determine the most efficient path for maximizing the distance traveled during the mission. It empowers users to customize essential parameters such as spacecraft mass, fuel quantity, thrust, and specific impulse. </p><p><img loading="lazy" alt="jpg" src="/assets/images/hopper0-91d9e5bbe219e78dfc469d041432b3a9.jpg" title="Did you find an easter egg?)" width="1024" height="1024" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><ol><li>Please make sure you have all the <a href="/docs/guides/getting_started#prerequisites-for-working-with-citros">necessary softwares</a> to work with CITROS installed on your computer.</li><li>Install <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">Visual Studio code</a>.</li><li>We strongly recommend that you work with <a href="/docs/guides/dockerfile_overview">dockers</a>. However, if you wish to work without dockers, please refer to the .devcontainer <a href="https://github.com/citros-garden/aerosandbox_cessna/tree/main/.devcontainer" target="_blank" rel="noopener noreferrer">directory</a> in project&#x27;s repo, the dependencies you need are in the <code>Dockerfile</code> file.</li><li>(Optional) Install <a href="https://docs.Foxglove.dev/docs/introduction" target="_blank" rel="noopener noreferrer">Foxglove</a>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2><ol><li><a href="#installation">Installation</a></li><li><a href="#workspace-overview">Workspace Overview</a></li><li><a href="#citros-initialization">CITROS Initialization</a></li><li><a href="#scenario">Scenario</a></li><li><a href="#running-the-scenario-using-citros">Running the Scenario Using CITROS</a></li><li><a href="#results">Results</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2><ol><li>Clone the repository:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone git@github.com:citros-garden/lunar_hopper.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Open the repository in the <a href="/docs/guides/citros_garden#run-project-in-vscode">VScode Dev Container</a>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="workspace-overview">Workspace Overview<a href="#workspace-overview" class="hash-link" aria-label="Direct link to Workspace Overview" title="Direct link to Workspace Overview">​</a></h2><p>The Lunar Hopper simulation has the following ROS 2 parameters:</p><table><thead><tr><th>Parameter</th><th>Description</th><th>Package</th></tr></thead><tbody><tr><td>m_fuel_0</td><td>Initial fuel mass date</td><td>lunar_hopper</td></tr><tr><td>m_fuel_f</td><td>Final fuel mass</td><td>lunar_hopper</td></tr><tr><td>dry_mass</td><td>dry mass</td><td>lunar_hopper</td></tr><tr><td>F_thrustmax</td><td>The maximum amount of thrust</td><td>lunar_hopper</td></tr><tr><td>Isp</td><td>Specific impulse</td><td>lunar_hopper</td></tr><tr><td>publish_freq</td><td>Frequency of publishing</td><td>lunar_hopper</td></tr></tbody></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><ul><li>Variables with &#x27;_0&#x27; are initial conditions.</li><li>Variables with &#x27;_f&#x27; are final conditions.</li></ul></div></div><p>This project contains only one launch file which will be used for CITROS launch. </p><table><thead><tr><th>Launch File</th><th>Description</th><th>Package</th></tr></thead><tbody><tr><td>lunar_hopper.launch.py</td><td>Lunar Hopper simulation launch file</td><td>lunar_hopper</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="citros-initialization">CITROS Initialization<a href="#citros-initialization" class="hash-link" aria-label="Direct link to CITROS Initialization" title="Direct link to CITROS Initialization">​</a></h2><ol><li><a href="/docs/guides/getting_started#installation">Install CITROS</a>.</li><li><a href="/docs/guides/getting_started#initialization">Initialize CITROS</a>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scenario">Scenario<a href="#scenario" class="hash-link" aria-label="Direct link to Scenario" title="Direct link to Scenario">​</a></h2><p>The optimal trajectory computes by solving non-linear OCP (optimal control problems) in the standard Bolza form, by using pseudo-spectral collocation methods and adjusted, using an additional real dynamic function. <br>
The OCP solver used in this example is <a href="https://mpopt.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">MPOPT</a> (based on <a href="https://en.wikipedia.org/wiki/IPOPT#:~:text=IPOPT%2C%20short%20for%20%22Interior%20Point,the%20EPL%20(formerly%20CPL)." target="_blank" rel="noopener noreferrer">IPOPT</a>) library modified by Lulav Space team. <br>
The main goal of the project is to find the optimal way to &quot;hop&quot; on the Moon as far as possible with given vessel parameters.<br></p><p>For this tutorial, let&#x27;s check how far the Hopper can hop on the Moon depending on Specific Impulse.
For that, we will launch a simulation batch with a distribution of Specific impulse parameter, starting from 200 and up to 300.
The parameter setup is listed in <code>.citros/parameter_setups/default_param_setup.json</code>. <br></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;packages&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;lunar_hopper&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token property">&quot;lunar_hopper&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token property">&quot;ros__parameters&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;m_fuel_0&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">27.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;m_fuel_f&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;dry_mass&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">30.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;Fthrustmax&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">208.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;Isp&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token property">&quot;function&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my_func.py:func_with_context&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                        </span><span class="token property">&quot;args&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">200</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                    </span><span class="token property">&quot;publish_freq&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">10.0</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>my_func.py</code> file should contain:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">func_with_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">num</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span modifiedline="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]" class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> num </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">float</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;sid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token number" style="color:rgb(181, 206, 168)">10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This function will set the <code>Isp</code> parameter in range from 200 to 200+10*n, where n = number of runs.</p><p>Learn more about parameter setup and defining custom functions in <a href="/docs/advanced_guides/citros_structure#directory-simulations">Directory parameter_setups</a> and <a href="/docs/guides/config_params">Adding Functions to Parameter Setup</a> pages.</p><p>In addition to parameter setup, you can configure the simulation performance setup (timeout, CPU, GPU and Memory) as well.
These parameters can be found in <code>.citros/simulations/simulation_lunar_hopper.json</code>. <br>
Look in <a href="/docs/advanced_guides/citros_structure#directory-simulations">Directory simulations page</a> for more information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-scenario-using-citros">Running the Scenario Using CITROS<a href="#running-the-scenario-using-citros" class="hash-link" aria-label="Direct link to Running the Scenario Using CITROS" title="Direct link to Running the Scenario Using CITROS">​</a></h2><p>Follow these steps to <a href="/docs/guides/getting_started#run-simulation">Run Simulation</a>:</p><ol><li>Name your  batch run simulation: <code>Lunar_hopper</code></li><li>Add a message to your batch run simulation: <code>local test run</code></li><li>Run your simulation <strong> 10 times </strong>.</li></ol><p>All the results will be saved under <code>.citros/data/simulation_lunar_hopper/[simulation_name]</code> folder.<br>
<em>in this case, simulation_name is Lunar_hopper</em></p><p>To plot the local run results you can use <a href="/docs/guides/foxglove_visual">Foxglove</a> with the layout file existing in <code>foxglove_layout</code> folder.</p><p>Use <code>layout_states.json</code> for states plots:</p><p><img loading="lazy" alt="png" src="/assets/images/foxglove0-754c9f3b3f1059f8a5727e8cf5ca66d4.png" title="Foxglove Example 1" width="2487" height="1511" class="img_ev3q"></p><p>Use <code>layout_controls.json</code> for controls plots:</p><p><img loading="lazy" alt="png" src="/assets/images/foxglove1-7daba796dcb1ed11807eb7b8e6fef295.png" title="Foxglove Example 2" width="2487" height="1511" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="results">Results<a href="#results" class="hash-link" aria-label="Direct link to Results" title="Direct link to Results">​</a></h2><ol><li><a href="/docs/guides/getting_started#create-db">Create Database</a></li><li><a href="/docs/guides/getting_started#load-data-to-db">Upload data to the database</a></li><li><a href="/docs/guides/getting_started#verify-data-loaded">Verify the data was loaded</a></li><li><a href="/docs/guides/getting_started#execute-notebook">Execute the Notebook</a> <code>lunar_hopper_notebook_example.ipynb</code>. <br>
You will find the notebook under <code>citros_template/notebooks</code> folder.</li></ol><p><img loading="lazy" alt="png" src="/assets/images/citros3-e22000abe186deb81041b08973ea51a8.png" title="CITROS example" width="607" height="463" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs_tutorials/turtlebot/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TurtleBot</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs_tutorials/lunar_starship/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lunar Starship</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#workspace-overview" class="table-of-contents__link toc-highlight">Workspace Overview</a></li><li><a href="#citros-initialization" class="table-of-contents__link toc-highlight">CITROS Initialization</a></li><li><a href="#scenario" class="table-of-contents__link toc-highlight">Scenario</a></li><li><a href="#running-the-scenario-using-citros" class="table-of-contents__link toc-highlight">Running the Scenario Using CITROS</a></li><li><a href="#results" class="table-of-contents__link toc-highlight">Results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Visit</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/lulavspace" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/lulav-space/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkdin</a></li></ul></div><div class="col footer__col"><div class="footer__title">More to Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/citros-garden" target="_blank" rel="noopener noreferrer" class="footer__link-item">CITROS Garden in GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.lulav.space" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms and Conditions</a></li><li class="footer__item"><a href="https://www.lulav.space" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Lulav Space.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0e9235bd.js"></script>
<script src="/assets/js/main.c79dd685.js"></script>
</body>
</html>